<div class="w-100 bg-primary" id="map" style="height:33vh"></div>

<div class="container mt-4">

  <div class="row">
    <div class="col-md-4 mb-5">
      <div class="row align-items-center">
        <div class="col">
          <h1 class="display-4">{{project.name}}</h1>
          <p class="lead">
            {{project.description}}
          </p>
          <p class="text-muted"><i class="fa fa-map-marker-alt"></i> {{project.location}}</p>
          <p class="text-muted"><i class="fas fa-calendar-alt"></i></i> {{formatDate project.start 'MMMM YYYY'}} -
            {{formatDate project.end 'MMMM YYYY'}}</p>
        </div>
      </div>
    </div>
    <div class="col-md-8 mb-5">

      <!-- Nav tabs -->
      <ul class="nav nav-pills mb-4" id="myTab" role="tablist">
        <li class="nav-item">
          <a class="nav-link active" id="timeline-tab" data-toggle="tab" href="#timeline" role="tab">Timeline</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="posts-tab" data-toggle="tab" href="#posts" role="tab">Posts</a>
        </li>
      </ul>

      <!-- Tab panes -->
      <div class="tab-content">
        <div class="tab-pane active" id="timeline" role="tabpanel">
          <div class="container">
            <div class="row">
              <div class="col">
                <ul class="timeline">
                  <li>
                    <h4 class="jumbotron p-2 text-center">Project End - {{formatDate project.end 'MMMM YYYY'}}</h4>
                  </li>
                  {{#each project.Events}}
                  {{> project/event-block}}
                  {{/each}}
                  <!--
                  <li>
                    <h4 class="jumbotron p-2 text-center">Today - July 6, 2019</h4>
                  </li>
                  -->

                  <li>
                    <h4 class="jumbotron p-2 text-center">
                      Project Start - {{formatDate project.start 'MMMM YYYY'}}
                    </h4>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="tab-pane" id="posts" role="tabpanel">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Ben Miller <small>mail@benkmiller.com â€¢ Jun 18</small></h5>
              <p class="card-text">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Unde ipsa aperiam odio
                minima,
                deleniti natus similique impedit adipisci itaque, sit quo, eligendi illum nobis. Veritatis, modi cum!
                Officia, similique. Sed?.</p>
              <div class="card-text">
                <a href="#">Reply</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- /.row -->

</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore-min.js"></script>
<script>
  function initMap() {

    map = new google.maps.Map(document.getElementById('map'));

    if (!google.maps.Polygon.prototype.getBounds) {

      google.maps.Polygon.prototype.getBounds = function () {
        var bounds = new google.maps.LatLngBounds();
        var paths = this.getPaths();
        var path;
        for (var i = 0; i < paths.getLength(); i++) {
          path = paths.getAt(i);
          for (var ii = 0; ii < path.getLength(); ii++) {
            bounds.extend(path.getAt(ii));
          }
        }
        return bounds;
      }

    }

    let paths = [{
        lat: 27.303865,
        lng: -80.329024
      },
      {
        lat: 27.305074,
        lng: -80.321676
      },
      {
        lat: 27.297980,
        lng: -80.307798
      },
      {
        lat: 27.299994,
        lng: -80.296639
      },
      {
        lat: 27.298180,
        lng: -80.295914
      },
      {
        lat: 27.295884,
        lng: -80.306346
      },
      {
        lat: 27.303180,
        lng: -80.320815
      },
      {
        lat: 27.302334,
        lng: -80.328299
      }
    ]

    var polygon = new google.maps.Polygon({
      paths: paths,
      strokeColor: '#FF0000',
      strokeOpacity: 0.8,
      strokeWeight: 2,
      fillColor: '#FF0000',
      fillOpacity: 0.35
    });

    console.log(polygon);

    polygon.setMap(map);

    var bounds = new google.maps.LatLngBounds();
    bounds = polygon.getBounds();
    map.fitBounds(bounds);

  }
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBogJPw220WsvPGVwvTyt3SudYMRVrgiig&amp;callback=initMap"
  async="" defer=""></script>